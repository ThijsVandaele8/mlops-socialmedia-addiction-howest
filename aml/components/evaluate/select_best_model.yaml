$schema: https://azuremlschemas.azureedge.net/latest/commandComponent.schema.json
name: select_best_model
type: command
environment: azureml:socialmedia-env:0.2.10
version: 0.2.5
display_name: Select best model
description: Select best model
is_deterministic: true
resources:
    instance_count: 1

code: ../../../jobs/select_best_model.py
command: > 
  python select_best_model.py 
  --input_flow_id ${{inputs.e2e_flowid}}
  --input_metric ${{inputs.select_metric}}
  --random_forest_model ${{inputs.random_forest_model}}
  --random_forest_runId ${{inputs.random_forest_runId}}
  --support_vector_model ${{inputs.support_vector_model}}
  --support_vector_runId ${{inputs.support_vector_runId}}
  --output_folder ${{outputs.output_folder}}
inputs:
    e2e_flowid:
      type: string
    select_metric:
      type: string
    random_forest_model:
      type: uri_file
    random_forest_runId:
      type: uri_file
    support_vector_model:
      type: uri_file
    support_vector_runId:
      type: uri_file
outputs:
    output_folder:
      type: uri_folder
      mode: rw_mount
