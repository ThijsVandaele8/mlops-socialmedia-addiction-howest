$schema: https://azuremlschemas.azureedge.net/latest/commandComponent.schema.json
name: evaluate_model
type: command
environment: azureml:socialmedia-env:0.2.7
version: 0.1.11
display_name: Evaluate model
description: Evaluate model
is_deterministic: true
resources:
    instance_count: 1

code: ../../../jobs/evaluate_model.py
command: > 
  python evaluate_model.py 
  --input_test ${{inputs.test_csv}}
  --mlflow_runid ${{inputs.mlflow_runid}}
  --input_model ${{inputs.model}}
  --mlflow_runid_of_model ${{outputs.mlflow_runid_of_model}}
  --output_model ${{outputs.output_model}}
inputs:
    test_csv:
      type: uri_file
    mlflow_runid:
      type: uri_file
    model:
      type: uri_file
outputs:
  mlflow_runid_of_model:
    type: uri_file
  output_model:
    type: uri_file